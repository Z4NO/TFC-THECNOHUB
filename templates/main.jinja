<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <title>Home - MentorHUB</title>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/main.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/preview-post.css') }}">
  <script type="text/javascript" src="{{ url_for('static', filename='styles/main.js') }}"></script>
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" href="/static/styles/main.css">
  <link rel="stylesheet" type="text/css"
    href="{{ url_for('static', filename='css_components/perfil_recomendado.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css_components/foro.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css_components/main_tendencias.css') }}">
  <link rel="stylesheet" type="text/css"
    href="{{ url_for('static', filename='css_components/post_recomendados.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/main_mensajes.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/main_foros.css') }}">
  <script src="https://cdn.socket.io/4.5.0/socket.io.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</head>

<body class="container">

  {% include 'components/searchbar.jinja' %}
  {# <div id="search-bar" class="search-bar-container" style="display: none;">
    <input type="text" id="search-input" class="search-box" placeholder="Buscar...">
    <button id="search-btn">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M10 2C14.42 2 18 5.58 18 10C18 11.94 17.29 13.7 16.1 15.05L20.59 19.54C20.96 19.91 20.96 20.5 20.59 20.87C20.22 21.24 19.63 21.24 19.26 20.87L14.76 16.38C13.41 17.57 11.65 18.28 9.71 18.28C5.29 18.28 1.71 14.7 1.71 10.28C1.71 5.86 5.29 2.28 9.71 2.28M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C12.06 20 13.93 19.29 15.45 18.16L20.69 23.41C21.88 24.6 23.71 24.6 24.9 23.41C26.09 22.22 26.09 20.39 24.9 19.2L19.65 13.95C20.78 12.43 21.5 10.56 21.5 8.5C21.5 3.48 17.02 0 12 0H10Z"
          fill="currentColor" />
      </svg>
    </button>

  </div> #}

  <div class="margenIzq"></div>
  <div class="bloqueIzquierda">
    <header>
      <div class="headerIzq">
        <img src="{{ url_for('static', filename='imgs/logotipo.png') }}" />
      </div>
    </header>

    <div class="funcionalidadesIzq">
      <a href="{{url_for('index2') }}">
        <button class="funcionalidadesbtn">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor"
            class="bi bi-house-door-fill" viewBox="0 0 16 16">
            <path
              d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5" />
          </svg>
          Inicio</button></a>
      <button class="funcionalidadesbtn">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-search"
          viewBox="0 0 16 16">
          <path
            d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0" />
        </svg>
        Explorar</button>
      <button class="funcionalidadesbtn" onclick="cargarComponente('/mensajes/main/mensajes')">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-envelope"
          viewBox="0 0 16 16">
          <path
            d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z" />
        </svg>
        Mensajes
      </button>
      <button class="funcionalidadesbtn" onclick="cargarComponenteForo('/foro/main/foros')">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-bricks"
          viewBox="0 0 16 16">
          <path
            d="M0 .5A.5.5 0 0 1 .5 0h15a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5H14v2h1.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5H14v2h1.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5H.5a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5H2v-2H.5a.5.5 0 0 1-.5-.5v-3A.5.5 0 0 1 .5 6H2V4H.5a.5.5 0 0 1-.5-.5zM3 4v2h4.5V4zm5.5 0v2H13V4zM3 10v2h4.5v-2zm5.5 0v2H13v-2zM1 1v2h3.5V1zm4.5 0v2h5V1zm6 0v2H15V1zM1 7v2h3.5V7zm4.5 0v2h5V7zm6 0v2H15V7zM1 13v2h3.5v-2zm4.5 0v2h5v-2zm6 0v2H15v-2z" />
        </svg>
        Foros</button>
      </a>
      <a href="{{ url_for('profile.cargar_profile') }}">
        <button class="funcionalidadesbtn">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-person"
            viewBox="0 0 16 16">
            <path
              d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z" />
          </svg>
          Perfil</button>
      </a>
      <button id="postearBtn" class="postear">
        <div class="svg-wrapper-1">
          <div class="svg-wrapper">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-send-fill"
              viewBox="0 0 16 16">
              <path
                d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471z" />
            </svg>
          </div>
        </div>
        <span>Crear Foro</span>
      </button>
    </div>

  </div>

  <div class="bloqueMedio" id="bloqueMedio">

    {% if perfiles_encontrados and perfiles_encontrados | length > 0 %}
    <h4>Usuarios encontrados:</h4>
    <div class="usuario-card-container">
      {% for perfil in perfiles_encontrados %}
      {% include 'components/usuario_busqueda.jinja' %}
      {% endfor %}
    </div>
    {% endif %}

    {% if foros_encontrados and foros_encontrados | length > 0 %}
    <h3>Foros encontrados:</h3>
    {% for foro in foros_encontrados %}
    {% include 'components/post.jinja' %}
    {% endfor %}
    {% endif %}

    {% if not valor %}
    <h3>Foros recientes</h3>
    {% for foro in foros %}
    {% set dueñonombre = foro.dueñonombre %}
    {% set dueño_nickname = foro.dueño_nickname %}
    {% set Descripcion = foro.Descripcion %}
    {% include 'components/post.jinja' %}
    {% endfor %}
    {% endif %}
  </div>




  <div class="bloqueDerecha" id="bloqueDerecha">
    <div class="recomendaciones">
      <div class="titulo-recomendaciones">
        <span> Perfiles recomendados </span>
      </div>
      <div class="descripcion-recomendaciones perfil-recomendado">
        {% for perfil in perfiles %}
        {% include 'components/perfil_recomendado.jinja' %}
        {% endfor %}
      </div>
    </div>

    <div class="recomendaciones">
      <div class="titulo-recomendaciones">
        <span> Tendencias... </span>
      </div>
      <div class="descripcion-recomendaciones">
        {% for tendencia in tendencias %}
        {% set titulo = tendencia.titulo %}
        {% set publicaciones = tendencia.publicaciones %}
        {% include 'components/main_tendencias.jinja' %}
        {% endfor %}
      </div>
    </div>

    <div class="recomendaciones">
      <div class="titulo-recomendaciones">
        <span> Posts recomendados</span>
      </div>

      <div class="descripcion-recomendaciones">
        {% for post in post_recomendados %}
        {% set Usuario = post.Usuario %}
        {% set Nickname = post.Nickname %}
        {% set Contenido = post.Contenido %}
        {% include 'components/post_recomendados.jinja' %}
        {% endfor %}
      </div>
    </div>

  </div>
  <div class="margenDerecha">

  <div class="only-bootstrap">
    <div class="modal fade" id="modalPerfil" tabindex="-1" aria-labelledby="modalPerfilLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content" id="modalContent">
          <!-- Aquí se inyecta dinámicamente el contenido desde pouppperfil.html -->
        </div>
      </div>
    </div>
  </div>



</body>


</html>
<script type="text/javascript" src="{{ url_for('static', filename='styles/mensajes.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='styles/foro.js') }}"></script>
<script>
  let bootstrapCSSLink = null;

  function cargarBootstrapCSS() {
    if (!bootstrapCSSLink) {
      bootstrapCSSLink = document.createElement('link');
      bootstrapCSSLink.rel = 'stylesheet';
      bootstrapCSSLink.href = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css";
      document.head.appendChild(bootstrapCSSLink);
    }
  }

  function eliminarBootstrapCSS() {
    if (bootstrapCSSLink) {
      bootstrapCSSLink.remove();
      bootstrapCSSLink = null;
    }
  }

  document.addEventListener('hidden.bs.modal', function (event) {
    if (event.target.id === 'modalPerfil') {
      eliminarBootstrapCSS();
    }
  });


</script>


